#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define MAX 50

int stack[MAX];
int top = -1;

void push(int x)
{
    if (top == MAX - 1)
    {
        printf("\nStack Overflow! Cannot push %d\n", x);
        return;
    }
    top++;
    stack[top] = x;
    printf("%d pushed into stack.\n", x);
}

void pop()
{
    if (top == -1)
    {
        printf("\nStack Underflow! No element to pop.\n");
        return;
    }
    printf("%d popped from stack.\n", stack[top]);
    top--;
}

void display()
{
    int i;
    if (top == -1)
    {
        printf("\nStack is empty.\n");
        return;
    }
    printf("\nStack elements are:\n");
    for (i = top; i >= 0; i--)
        printf("%d ", stack[i]);
    printf("\n");
}

void checkPalindrome()
{
    char str[50];
    int i, len, flag = 1;
    int temp[MAX];
    int tempTop = -1;

    printf("\nEnter a string or number to check palindrome: ");
    scanf("%s", str);
    len = strlen(str);

    for (i = 0; i < len; i++)
        temp[++tempTop] = str[i];

    for (i = 0; i < len; i++)
    {
        if (str[i] != temp[tempTop--])
        {
            flag = 0;
            break;
        }
    }

    if (flag)
        printf("\nIt is a Palindrome.\n");
    else
        printf("\nNot a Palindrome.\n");
}

int main()
{
    int ch, x;
    while (1)
    {
        printf("\n\nStack Operations Menu");
        printf("\n1. Push");
        printf("\n2. Pop");
        printf("\n3. Check Palindrome");
        printf("\n4. Display Stack");
        printf("\n5. Exit");
        printf("\nEnter your choice: ");
        scanf("%d", &ch);

        switch (ch)
        {
        case 1:
            printf("Enter element to push: ");
            scanf("%d", &x);
            push(x);
            break;

        case 2:
            pop();
            break;

        case 3:
            checkPalindrome();
            break;

        case 4:
            display();
            break;

        case 5:
            printf("\nExiting program.\n");
            exit(0);

        default:
            printf("\nInvalid choice! Try again.\n");
        }
    }
}
